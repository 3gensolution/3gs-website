@use 'sass:math';
@use '../../../styles/utils' as *;

// Home Hero - White background with black/orange text (Finiam style)
$hero-bg: #FFFFFF;
$hero-text-dark: $bg-dark; // Black text
$hero-accent: $color-primary; // Orange #FF6B35
$hero-dot-color: $color-primary;

.hero {
  position: relative;
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  background: $hero-bg;
  overflow: hidden;

  // Slide wrapper
  &__slide {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: $spacing-32 $spacing-4 $spacing-16;

    @include md {
      padding: $spacing-32 $spacing-8 $spacing-16;
    }
  }

  // ===== DOT PATTERNS =====
  &__dots {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;

    // Scattered dots (random positions) - with floating animation
    &--scattered {
      .hero__dot {
        position: absolute;
        background: $hero-dot-color;
        border-radius: 50%;
        animation: dotFloat 4s ease-in-out infinite;

        @for $i from 1 through 20 {
          &:nth-child(#{$i}) {
            animation-delay: #{$i * 0.2}s;
            animation-duration: #{3 + ($i % 3)}s;
          }
        }
      }
    }

    // Horizontal line of dots - with pulse wave animation
    &--horizontal {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: clamp(1rem, 3vw, 2.5rem);
      top: 50%;
      transform: translateY(-50%);
      padding: 0 $spacing-4;

      .hero__dot {
        width: clamp(16px, 3vw, 28px);
        height: clamp(16px, 3vw, 28px);
        background: $hero-dot-color;
        border-radius: 50%;
        flex-shrink: 0;
        animation: dotPulseWave 2s ease-in-out infinite;

        @for $i from 1 through 18 {
          &:nth-child(#{$i}) {
            animation-delay: #{$i * 0.1}s;
          }
        }
      }
    }

    // Grid pattern - with ripple effect
    &--grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: $spacing-8;
      padding: $spacing-20;
      max-width: 400px;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);

      @include lg {
        max-width: 500px;
        gap: $spacing-10;
      }

      .hero__dot {
        width: clamp(20px, 4vw, 35px);
        height: clamp(20px, 4vw, 35px);
        background: $hero-dot-color;
        border-radius: 50%;
        justify-self: center;
        animation: dotRipple 3s ease-in-out infinite;

        @for $i from 1 through 16 {
          &:nth-child(#{$i}) {
            $row: math.floor(math.div($i - 1, 4));
            $col: ($i - 1) % 4;
            animation-delay: #{($row + $col) * 0.15}s;
          }
        }
      }
    }

    // Diagonal pattern - with flow animation
    &--diagonal {
      .hero__dot {
        position: absolute;
        width: clamp(18px, 3vw, 30px);
        height: clamp(18px, 3vw, 30px);
        background: $hero-dot-color;
        border-radius: 50%;
        left: calc(10% + var(--i) * 7%);
        top: calc(20% + var(--i) * 5%);
        animation: dotFlow 2.5s ease-in-out infinite;
        animation-delay: calc(var(--i) * 0.15s);

        @include lg {
          left: calc(15% + var(--i) * 6%);
          top: calc(15% + var(--i) * 5%);
        }
      }
    }
  }

  // Container
  &__container {
    @include container;
    position: relative;
    z-index: 2;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-top: $spacing-16;
  }

  // Statement Section - Side by side on desktop
  &__statement {
    display: flex;
    flex-direction: column;
    gap: $spacing-6;
    margin-bottom: auto;
    padding-top: $spacing-4;

    @include lg {
      flex-direction: row;
      justify-content: space-between;
      align-items: flex-start;
      gap: $spacing-12;
    }
  }

  &__question {
    flex: 1;

    &-text {
      font-size: clamp(2.5rem, 9vw, 5.5rem);
      font-weight: $font-weight-normal;
      color: $hero-text-dark;
      line-height: 1.05;
      letter-spacing: -0.03em;

      @include lg {
        text-align: left;
      }
    }
  }

  &__answer {
    flex: 1;

    @include lg {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: flex-end;
      padding-top: $spacing-24;
    }

    &-text {
      font-size: clamp(2.5rem, 9vw, 5.5rem);
      font-weight: $font-weight-normal;
      color: $hero-accent;
      line-height: 1.05;
      letter-spacing: -0.03em;

      @include lg {
        text-align: right;
      }
    }
  }

  // Content (Description + CTA)
  &__content {
    margin-top: auto;
    padding-top: $spacing-10;
  }

  &__description {
    max-width: 480px;
    font-size: $font-size-base;
    color: $hero-text-dark;
    line-height: $line-height-relaxed;
    margin-bottom: $spacing-6;

    @include md {
      font-size: $font-size-lg;
    }
  }

  // CTA Link - Pill button
  &__cta-link {
    display: inline-flex;
    align-items: center;
    gap: $spacing-3;
    font-size: $font-size-base;
    font-weight: $font-weight-semibold;
    color: $hero-text-dark;
    text-decoration: none;
    padding: $spacing-4 $spacing-8;
    border: 2px solid $hero-text-dark;
    border-radius: $radius-full;
    transition: all 0.3s $ease-out-expo;

    @include md {
      padding: $spacing-4 $spacing-10;
    }

    svg {
      width: 18px;
      height: 18px;
      transition: transform 0.3s $ease-out-expo;
    }

    &:hover {
      background: $hero-accent;
      color: #FFFFFF;
      border-color: $hero-accent;

      svg {
        transform: translateX(4px);
      }
    }
  }

  // ===== CAROUSEL INDICATORS =====
  &__indicators {
    position: absolute;
    bottom: $spacing-8;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: $spacing-3;
    z-index: 10;

    @include md {
      bottom: $spacing-10;
    }
  }

  &__indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 2px solid rgba($hero-text-dark, 0.3);
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 0;

    &:hover {
      border-color: $hero-text-dark;
    }

    &--active {
      background: $hero-accent;
      border-color: $hero-accent;
      transform: scale(1.2);
    }
  }

  // Scroll Indicator
  &__scroll {
    position: absolute;
    bottom: $spacing-8;
    right: $spacing-6;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: $spacing-2;
    z-index: 10;
    cursor: pointer;

    @include md {
      right: $spacing-10;
      bottom: $spacing-10;
    }
  }

  &__scroll-text {
    font-size: $font-size-xs;
    text-transform: uppercase;
    letter-spacing: $letter-spacing-wider;
    color: $hero-text-dark;
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  &__scroll-line {
    width: 1px;
    height: 50px;
    background: rgba($hero-text-dark, 0.2);
    position: relative;
    overflow: hidden;
  }

  &__scroll-dot {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: $hero-accent;
    border-radius: 50%;
    animation: scrollDot 2s ease-in-out infinite;
  }
}

@keyframes scrollDot {
  0% {
    top: 0;
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    top: 100%;
    opacity: 0;
  }
}

// Random bounce dot animations (no glowing)
@keyframes dotFloat {
  0%, 100% {
    transform: translate(0, 0);
  }
  20% {
    transform: translate(8px, -12px);
  }
  40% {
    transform: translate(-6px, 8px);
  }
  60% {
    transform: translate(10px, 5px);
  }
  80% {
    transform: translate(-8px, -6px);
  }
}

@keyframes dotPulseWave {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-8px);
  }
  50% {
    transform: translateY(4px);
  }
  75% {
    transform: translateY(-4px);
  }
}

@keyframes dotRipple {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(5px, -5px);
  }
  50% {
    transform: translate(-3px, 6px);
  }
  75% {
    transform: translate(-5px, -3px);
  }
}

@keyframes dotFlow {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(12px, -8px);
  }
  66% {
    transform: translate(-8px, 10px);
  }
}
